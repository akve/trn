<!-- There's no head for this so we'll put it at the top of this file -->
<link rel="stylesheet" type="text/css" href="//maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">
<script src="//cdnjs.cloudflare.com/ajax/libs/angular.js/1.5.3/angular.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/angular.js/1.5.3/angular-sanitize.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/angular.js/1.5.3/angular-animate.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/angular.js/1.5.3/angular-aria.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/angular.js/1.5.3/angular-route.min.js"></script>
<script src="//ajax.googleapis.com/ajax/libs/angular_material/1.0.5/angular-material.min.js"></script>

<!--<script type="text/javascript" src="/wp-includes/bower/ng-table/dist/ng-table.js"></script>-->
<link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/angular_material/1.0.5/angular-material.min.css">
<script>var basepath = "http://localhost/";var templatepath = 'http://localhost/wp-content/themes/TRN';</script>
<script src="%%TEMPLATE_Directory%%/js/admin.app.php"></script>
<style type="text/css">
button.md-small {
    font-size: 11px;
    min-height: 26px;
    line-height: 26px;
}
button.md-small.green {background-color: #4CAF50; color: #000}
button.md-small.red {background-color: #E57373; color: #000}
button.md-small.blue {background-color: #90CAF9;}
.Pagination ul li {
    display: inline-block;
    padding: 8px;
    background-color: #eee;
    border: 1px solid #e0e0e0;
    margin: 0 2px;
    cursor: pointer;
}
md-backdrop.md-opaque {left:-20px; top:-20px;}
.wp-admin {top: 32px !important;}
.Pagination ul li.active {
    background-color: #90CAF9;
}
</style>

<div class="admin-body" ng-app="trnadmin" ng-controller="AdminBuyerController as abc" >
	<h1>Manage Buyers</h1>
	<p></p>
	<!--<div id="grid1" ui-grid="gridOptions" ui-grid-pagination ui-grid-save-state class="grid" style="position: absolute; height: auto; top: 0; right: 0; left: 0; bottom: 0;"></div>-->
	<!--<table ng-init="abc.getBuyers();" ng-table="abc.tableParams" class="table" show-filter="true">
	    <tr ng-repeat="user in $data">
	        <td title="'id'" filter="{ id: 'ID'}" sortable="'id'">
	            {{user.id}}</td>
	        <td title="'contact_email'" filter="{ contact_email: 'contact_email'}" sortable="'contact_email'">
	            {{user.contact_email}}</td>
	    </tr>
	</table>{{abc.tableParams}}
	<table ng-table="abc.tableParams" class="table" show-filter="true">
	    <tr ng-repeat="user in $data">
	        <td title="'Name'" filter="{ name: 'text'}" sortable="'name'">
	            {{user.name}}</td>
	        <td title="'Age'" filter="{ age: 'number'}" sortable="'age'">
	            {{user.age}}</td>
	    </tr>
	</table>-->
	<table class="wp-list-table widefat fixed striped" >
		<thead>
			<tr>
				<th width="80">Buyer ID</th>
				<th width="240">Email</th>
				<th width="80">AmazonID</th>
				<th>Phone</th>
				<th>Coupon Req.</th>
				<th>Review Count</th>
				<th class="actions" width="340">Actions</th>
			</tr>
		</thead>
		<tbody>
			<tr ng-show="abc.loading">
				<td colspan="7"><i class="fa fa-spin fa-spinner"></i>&nbsp; Loading Buyers...</td>
			</tr>
			<tr ng-repeat="buyer in abc.buyers">
				<td>{{ buyer.id }}</td>
				<td>{{ buyer.contact_email }}</td>
				<td>{{ buyer.amazonid }}</td>
				<td>{{ buyer.phone }}</td>
				<td>{{ buyer.couponreq }}</td>
				<td>{{ buyer.reviewcount }}</td>
				<td>
					<md-button class="md-raised md-small {{ buyer.status.color }}" ng-click="abc.ChangeStatus(buyer, $index);">{{ buyer.status.status_text }}</md-button>
					<md-button class="md-raised md-small {{ buyer.blocked.color }}" ng-click="abc.ChangeBlockedStatus(buyer, $index);">{{ buyer.blocked.status_text }}</md-button>
					<md-button class="md-small blue" ng-click="abc.EditBuyer(buyer);">Edit</md-button>
					<md-button class="md-small blue" ng-click="abc.DeleteBuyer(buyer, $index);">Delete</md-button>
				</td>
			</tr>
		</tbody>
	</table>
	<rd-pagination ng-if="abc.buyers.length > 0" items="abc.buyers" target=".admin-body"></rd-pagination>

</div>